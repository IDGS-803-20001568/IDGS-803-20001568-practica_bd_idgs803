{% extends 'layout.html' %}
{% block content %}

<h3 style="margin-bottom: 20px;">Pizzería</h3>
{% from "_macros.html" import render_field %}

<div class="container">
    <form name="pedido" id="pedido-form" method="post">
        <div class="form-group">
            {{ render_field(form.nombre, class="form-control", id="nombre", placeholder="Nombre") }}
        </div>
        <div class="form-group">
            {{ render_field(form.direccion, class="form-control", id="direccion", placeholder="Dirección") }}
        </div>
        <div class="form-group">
            {{ render_field(form.telefono, class="form-control", id="telefono", placeholder="Teléfono") }}
        </div>
        <div class="form-group">
            {{ render_field(form.fecha_compra, class="form-control", id="fecha_compra", placeholder="Fecha de Compra") }}
        </div>
        <div class="form-group">
            {{ render_field(form.numPizzas, class="form-control", id="numPizzas", placeholder="Número de Pizzas") }}
        </div>
        <div class="form-group">
            {{ render_field(form.tamaPizza, class="form-control") }}
        </div>
        <div class="form-group">
            {{ render_field(form.ingredientesPizza, class="form-control") }}
        </div>
        <input type="hidden" name="csrf_token" value="{{ csrf_token() }}" />
        <button type="button" class="btn btn-primary" id="agregar">Agregar</button>
        <input type="reset" class="btn btn-secondary" id="quitar" name="quitar" value="Quitar" />
    </form>

    <table class="table table-striped" style="margin-top: 30px;">
        <thead class="thead-dark">
            <tr>
                <th>Nombre</th>
                <th>Dirección</th>
                <th>Teléfono</th>
                <th>Tamaño Pizza</th>
                <th>Ingredientes Pizza</th>
                <th>Número Pizzas</th>
                <th>Acciones</th>
            </tr>
        </thead>
        <tbody id="tabla-pedidos">
           
        </tbody>
    </table>
</div>

<script>
    document.addEventListener('DOMContentLoaded', function() {
        document.getElementById('agregar').addEventListener('click', function() {
           
            var nombre = document.getElementById('nombre').value;
            var direccion = document.getElementById('direccion').value;
            var telefono = document.getElementById('telefono').value;
            var tamañoPizza = document.getElementById('tamaPizza').value;
            var ingredientesPizza = document.getElementById('ingredientesPizza').value;
            var numPizzas = document.getElementById('numPizzas').value;
            
           
            var newRow = '<tr>' +
                '<td>' + nombre + '</td>' +
                '<td>' + direccion + '</td>' +
                '<td>' + telefono + '</td>' +
                '<td>' + tamañoPizza + '</td>' +
                '<td>' + ingredientesPizza + '</td>' +
                '<td>' + numPizzas + '</td>' +
                '<td><button id="eliminar" name="eliminar" value="Eliminar" class="btn btn-danger eliminar">Eliminar</button></td>' +
                '<td><button id="finalizar" name="finalizar" value="Finalizar"  class="btn btn-warning finalizar">Finalizar</button></td>' +
                '</tr>';
            
            
            document.getElementById('tabla-pedidos').innerHTML += newRow;
        });
    });
</script>

{% endblock %}
